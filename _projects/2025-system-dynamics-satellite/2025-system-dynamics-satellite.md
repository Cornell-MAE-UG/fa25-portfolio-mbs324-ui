---
layout: project
title: System Dynamics Model of Satellite
description: Create a system dynamics model of a satellite. 
technologies: [Matlab, Simulink]
image: #/assets/images/satellite-system-model.png
---

For MAE 3260 (System Dynamics), I was part of a group tasked with creating a system dynamics model of a real-world system. We selected a satellite. My main role in this project was to create a model of the satellite for simulation testing. I also helped investigate the actuators used in real satellites. 

Overview: The satellite was modelled as a cylinder rotating about its vertical axis that can increase or decrease its torque (changing angular velocity) to achieve a desired angular position. 

Abstract:
This project focuses on studying a satellite by breaking it down into a system that has attitude control, reacts to disturbances, and uses actuators and sensors to control its attitude. Since the actual dynamics involved are very complicated, a simplified model will be developed based on topics discussed in class so far. The reasons for focusing on satellites are that they are fascinating, important, and are complicated enough to make for an interesting and educational project. To simplify the model, the satellite’s rotation will be restricted  to a single axis (similar to the rotational systems studied in class). Using what has been learned through the course of the class about PID controllers (including ODEs and TFs), actuator saturation, and steady state, a system-dynamics model of the satellite analyzing the behavior can be created. This model will also incorporate active disturbance rejection focusing on system response and performance requirements including rise time, settling time, and maximum overshoot.

List of concepts/skills used:
ODEs, rigid body dynamics, OL system, CL system, PI controller, Matlab, Simulink, system response and plots (free response, step response), response parameters (ess, tr, ts), disturbance rejection, saturation & anti-windup

Modelling the Satellite Using System Dynamics

![Satellite Model]({{ "/assets/images/satellite-system-model.png" | relative_url }}){: .inline-image-r style="width: 200px"}

Torque is generated by the ACS (attitude control system = actuators) in order to change w; this relationship is governed by the satellite’s rigid-body dynamics (plant). Output theta is measured by sensors and fed back into the feedback controller (electronics). We model this by integrating angular acceleration twice with initial conditions to extract angular position and feed it back into the controller. 
We will use a PI controller in order to have zero steady state error. This is important for high-precision pointing applications often seen in satellites (telescopes, earth surveillance, communications, etc). However, we are keeping our model simple. We did not add derivative control because satellites mostly use PI controllers [2]. While the Lab 4 system included an electronic filter [7], we did not include this in our model. We did include disturbances and disturbance rejection because satellites often encounter disturbances from particles, solar wind, atmospheric drag, gravity, etc. We will be focusing on performance parameters of steady state error, rise time, and settling time. Note that there is no maximum overshoot in a PI system. We will try to avoid saturation by selecting system parameters carefully. We can also implement anti-windup to turn off the integrator if it exceeds a maximum value. 
Our satellite can only rotate about one axis. In this model, it has angular velocity w = ', angular position  (measured by sensor/s), and moment of inertia I about the spin axis. The ACS, a system of actuators, exerts torque  on the system. We assume that this axis is a principal axis (no products of inertia) and aligns with the intended spin axis, though these cannot be perfectly aligned in real life (resulting in nutation and coning). While an actual 3D satellite would want to change the position of its angular momentum vector, our satellite can only rotate about one axis (in order to avoid tedious and complicated math beyond the scope of this course) and change the magnitude of its angular momentum vector (and therefore the magnitude of w). 
We will simulate the system’s response to open loop (with different ICs) and step input. There is negligible damping in space. With atmospheric drag, if the net drag force’s line of action does not pass through the center of mass, a disturbance torque will be generated. There is also technically a damping effect on the satellite’s rotation, but this is negligible. We assume b = 0 in order to simplify the system. 
We can leave results in terms of variables, but if we want to plot any results, we must either normalize the plots or choose plausible values. We opted for the latter. There are many different types of satellites of different sizes and masses, from tiny nanosats to large space stations. Let us consider the Earth observation satellite Landsat 8. It weighs approximately 2000 kg with a 2.4 m diameter and 3 m length [8]. It also has one 9 x 0.4 m deployable solar array [9]. For the satellite in our model, let’s say that the solar panels are light enough to have a negligible effect on I. Triple Junction GaAs Solar Cells like those used in the Landsat 8 have a density of around 0.086 g/cm2, so these panels would weigh around 3 kg each and total solar panel I would be less than 100 kgm2 and can therefore be neglected, since these figures are approximate anyways. 
Solid cylindrical satellite has I=12mr2=12*2000*(1.2)2=1440 kgm2 about its spin axis (vertical axis). 
Typical CMG saturation values vary widely depending on the size, geometry, hardware, etc. Looking at the CMGs offered on satsearch [10], a typical CMG for a medium to large satellite would saturate on the order of 10-100 Nm. In our case, let’s say that our CMG or other ACS saturates at around 50 Nm. 
Given this information, we can make transfer functions. However, because the system is not a second order system with damping, we cannot analytically find ess, tr, and ts to select parameters. Instead, we will find these values numerically from the system response plots. Let’s say that precision is important and we want ess = 0 (possible with integrator). We also want to reasonably quickly improve performance and earnings. If we are moving at max torque the whole time (assuming instantaneous acceleration and deceleration), it will take the satellite around 20-30 seconds to complete a 2 rad rotation. This is a slower time scale than the systems we have been working with so far due to the large moment of inertia of the heavy satellite. This gives us a reference point for plotting the system response. 

Ballpark disturbance torque value: D = 0.00078 Nm
Model other types of disturbances including meteor/debris collision

Sensors and Actuators 


Different Types of Actuators
Reaction Wheels:
RWs are simple (especially math-wise), cheap, and lightweight but use much more energy to change angular momentum than CMGs. RWs work by changing the magnitude of angular momentum h and therefore angular velocity w for constant I. [3]
Control moment gyroscopes (CMG):
CMGs change the direction (but not magnitude) of angular momentum by rotating a fast-spinning disc about the disc’s transverse axis.  The energy required to rotate the disk about its transverse axis is quite low (theoretically 0 if friction is ignored) since work W=d, torque vector which rotates the disc about its transverse axis is perpendicular to the disc’s angular displacement vector (which is parallel to its angular momentum vector). If work is 0, then power is 0 after the disk has spun up and there is no friction. Very efficient! This is why CMGs are good. If you want to change the magnitude of the angular momentum like a RW but more efficiently (but with much more complicated math and mechanisms), you can arrange a pair of CMGs such that the horizontal component of the angular momentum vectors cancels out and net angular momentum is in the desired direction. The magnitude of this angular momentum can be efficiently changed by rotating the CMGs equally away from or towards the shared axis.  [ 1 & 2]
For these reasons, it is best to use a paired CMG array in our model. However, our model works with any attitude control system (ACS) that controls torque by varying w at rate commanded by the feedback controller. 
Thrusters:
Thrusters are simplest of all, but are quite inefficient compared to the other actuators. Thrusters exert an external moment on the spacecraft (nonzero net moment), while RWs and CMGs only exert an internal moment, and the net moment is zero (Newton’s Third Law). The thrusters are expelling gas, which releases energy from pressure and/or combustion. The gas pushes on the thruster, exerting an external torque on the spacecraft. (We are considering only torques because forces are irrelevant to our model.)
References:
[1] MAE 4060 Lecture 18: “Spacecraft Rigid-Body Dynamics,” Mason Peck
[2] MAE 4060 Lecture 20: “Attitude Kinematics: Attitude Sensors Determination,” Mason Peck
[3] MAE 4060 Lecture 21: “Momentum-Actuator Technologies,” Mason Peck
[4] CharmLab Stanford Engineering, Attitude Control by Daniel Washington and Nabil Wessel
https://charm.stanford.edu/ENGR1052016/DanielWashingtonNabilWessel
[5] MAE 3260 Lecture 11W, “Integral PI Control and Windup,” Mark Campbell
[6] MAE 3260 Lecture 11F, “PID Control,” Mark Campbell
[7] MAE 3260 Lab 4 Manual, Mark Campbell
[8] Landsat 8 by Landsat Missions
 https://www.usgs.gov/landsat-missions/landsat-8
[9] Nasa Landsat 8
 https://science.nasa.gov/mission/landsat-8/
[10] Control Moment Gyroscopes by Satsearch
 https://blog.satsearch.co/2024-01-10-control-moment-gyroscopes
